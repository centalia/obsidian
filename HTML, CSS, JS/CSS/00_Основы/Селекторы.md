**Селектор** в CSS — это конструкция, которая указывает, к каким HTML-элементам применять стили. Они определяют "что" стилизуется, а свойства CSS определяют "как".

---
## 1. Селекторы по тегу

Выбирают все элементы с определённым тегом.

```html
<p>Пример текста</p>
```

```css
p {
  color: red;
}
```

✅ Применится ко всем тегам `<p>`.

> Такие селекторы удобно использовать для глобального оформления заголовков, списков и т.д.

---
## 2. Селекторы по классу

Позволяют стилизовать все элементы, у которых есть указанный `class`.

```html
<div class="card">Карточка</div>
```

```css
.card {
  border: 1px solid #ccc;
}
```

✅ Применяется ко всем элементам с классом `card`.

> Один и тот же класс можно использовать у многих элементов. Один элемент может иметь несколько классов.

---
## 3. Селекторы по идентификатору (ID)

Селекторы с `#` применяются к **одному уникальному элементу** с заданным `id`.

```html
<button id="go-top">Наверх</button>
```

```css
#go-top {
  position: fixed;
  bottom: 20px;
}
```

⚠ По стандарту `id` должен быть **уникальным** на странице.

---
## 4. Атрибутные селекторы

Позволяют выбирать элементы по значению атрибутов:

```html
<input type="email" required>
```

```css
input[required] {
  border-color: red;
}
```

Также доступны операторы:

| Синтаксис         | Описание                        | Пример                         |
|------------------|----------------------------------|--------------------------------|
| `[attr]`         | С атрибутом                     | `[disabled]`                   |
| `[attr=value]`   | С точным значением              | `[type="text"]`              |
| `[attr^=val]`    | Начинается с                    | `[href^="https"]`            |
| `[attr$=val]`    | Заканчивается на                | `[src$=".jpg"]`              |
| `[attr*=val]`    | Содержит                        | `[class*="-active"]`         |

---
## 5. Универсальный селектор `*`

Выбирает **все элементы** на странице или внутри определённого контейнера.

```css
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
```

Также может быть комбинирован:

```css
a * {
  color: blue;
}
```

⚠ Не рекомендуется злоупотреблять — может повлиять на производительность и читабельность.

---
## 6. Составные и комбинированные селекторы

Позволяют выбрать элемент **в зависимости от его позиции или контекста**.

### Виды:

| Селектор     | Синтаксис       | Описание                                  |
|--------------|------------------|-------------------------------------------|
| Потомок      | `div p`          | Все `p` внутри `div`                      |
| Ребёнок      | `ul > li`        | Только непосредственные `li` в `ul`      |
| Сосед        | `h2 + p`         | Первый `p` после `h2`                     |
| Все соседи   | `h2 ~ p`         | Все `p` после `h2` на том же уровне      |
| Группировка  | `h1, h2, h3`     | Применяет стиль ко всем этим элементам    |

```css
ul > li {
  list-style: square;
}
```

---
## 7. Псевдоклассы

Определяют **состояние элемента**, структуру или позицию.

Примеры:

| Селектор       | Что делает                           |
|----------------|--------------------------------------|
| `:hover`       | Наведение                            |
| `:active`      | Во время клика                       |
| `:focus`       | При фокусе (например, input)         |
| `:nth-child()` | По номеру в списке                   |
| `:not()`       | Исключение                           |

```css
a:hover {
  text-decoration: underline;
}

li:nth-child(odd) {
  background: #f0f0f0;
}
```

---
## 8. Псевдоэлементы

Позволяют **создавать виртуальные элементы** для оформления.

Примеры:

| Селектор        | Описание                               |
|-----------------|----------------------------------------|
| `::before`      | Элемент перед содержимым               |
| `::after`       | Элемент после содержимого              |
| `::first-letter`| Первая буква                           |
| `::selection`   | Стиль выделенного текста               |

```css
p::first-letter {
  font-size: 200%;
  font-weight: bold;
}

button::after {
  content: " ⬆";
}
```

> ⚠ Обязательно указывать `content` у `::before` и `::after`, иначе они не отобразятся.

---
## 9. Специфичность и приоритет селекторов

Когда к одному элементу применяются **несколько CSS-правил**, браузер выбирает то, которое «сильнее». Это определяется по:

1. **Специфичности** селектора
2. **Порядку объявления** в коде
3. Наличию `!important`

---
### Таблица весов

| Тип селектора                  | Вес (баллы) |
|-------------------------------|-------------|
| Inline-стили (`style=""`)     | 1000        |
| `#id`                         | 100         |
| `.class`, `[attr]`, `:hover`  | 10          |
| `div`, `p`, `a` и т.д.        | 1           |
| `*`, `:where()`               | 0           |

> Пример:  
> `section#main .card p.title` → 1 + 100 + 10 + 1 + 10 = **122**

---
### При равной специфичности

Если вес одинаков — побеждает **то правило, которое написано позже**:

```css
p {
  color: red;
}
p {
  color: blue;
}
/* Итог: blue */
```

---
### `!important`

``` css
h1 {
  color: green !important;
}
```

- Переопределяет всё, **даже если селектор слабее**
- Но может быть переопределён **другим `!important` с большей специфичностью**

⚠ Использовать — только если невозможно по-другому.

---
### Безопасное переопределение
``` css
:where(.btn) {
  color: black;
}
```

:where() — имеет нулевую специфичность, очень удобно в утилитарных стилях и при работе с UI-библиотеками.

---
### Практика

- Используй `class` — они гибкие и переиспользуемые
- Не применяй `id` в CSS (используй в JS, якорях и тестах)
- Избегай `!important` без нужды
- Не переусложняй: `ul.list .item a span b` — плохо читается и трудно перебить