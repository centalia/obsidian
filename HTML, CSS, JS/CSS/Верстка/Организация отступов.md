
Есть несколько принципов, благодаря которым можно легко и не принужденно ебашить отступы, и все будет работать как часы. 

Принцип раз: Отступы идут от предыдущего элемента к следующему
Принцип два: Отступ задается последнему возможному элементу в доме.
Принцип три: Отступы нельзя задавать для независимых элементов (БЭМ)
Принцип щетыре:  У последнего элемента группы, отступ всегда обнуляется. 

## Принцип раз: Отступы идут от предыдущего элемента к следующему

Маржари До - это `margin`
Паддингтон - это `padding`

Маржари До задается от предыдущего элемента к следующему. сверху вниз, слева направо. Т.е `margin-top` и `-left `мы не юзаем, но без исключений. У Паддингтонов иначе. Когда блоку нужен отступ сверху или слева, но его получает за счет `padding-top`, `-left` родителя. 

Отступы идет в направлении потока DOM-дерева, блок сам себя не двигает, а толкает соседа, пером под ребро. Т.е элемент изначально находится в статическом положении, и получает воздействие за счет других.

## Принцип два: Отступ задается последнему возможному элементу в DOM.

Маржари До задается только между соседами в DOM-дереве.

В спиженном примере 3 списка:

~~~ html
<section class="main-section">
  <div class="main-section__item">
    <div>
      <ul>
        <li><a href="">Далеко-далеко, за словесными.</a></li>
        <li>...</li>
        <li>...</li>
        <li>...</li>
        <li>...</li>
      </ul>
    </div>
  </div>

  <div class="main-section__item">...</div>

  <div class="main-section__item">...</div>
</section>
~~~
Не за счет дочерних элементов, а за счет соседних делается отступ.

![[Pasted image 20250517170509.png]]

В данном случае .main-section__item является последним (из Магекнян), кому можно доверить Маржари До, дабы разделить списки. Конечно можно задать Маржари До диву, списку, ссылке или лишке, но это не правильно и можно получить пизды. А если представить намного большую вложенность Маржари До схлопываются, а какие-то ~~совокупляются~~ суммируются с Паддингтонами.

~~~ HTML
<section>
  <h1>headline in a section of seven words</h1>
</section>
~~~

А вот пример с заголовком, надобна сделать отступ сверху для заголовка, то последний элментом будет `section` и ему задаем `padding-top`, а Маржари До обнуляются.

Самая простая причина почему надо придерживаться сего принципа, это шоб в будущем проще было найти отступ, либо тебе, любо тому кто будет работать над проектом после тебя. 

## Принцип три: Отступы нельзя задавать для независимых элементов (БЭМ)

Никогда не делай отступы элементам, которые могут юзаться более чем один раз. Даже если ты не приверженец БЭМ-методолгии. Для этого есть обертки. Обертки это заебись. Либо допклассы.

**Если нужно сделать блоку отступ**. Без ущерба это делается с помощью:  
- Наследование через элемент (если вытащить этот блок с элемента, отступа не будет, и его можно будет просто разместить в другом месте).
- Добавление класса (можно сделать блок элементом).
- Обертка (как блок, у которого роль, только в позиционировании).

~~~
.block__item > .block { margin-right: 10px; }

.block.block__item { margin-right: 10px; }

.block-wrap > .block { margin-right: 10px; }
~~~

## У последнего элемента группы, отступ обнуляется (всегда)

  
Возьмем для примера список и изображение.  

```
<ul>
  <li><a href=""></a></li>
  <li><a href=""></a></li>
  <li><a href=""></a></li>
  <li><a href=""></a></li>
</ul>

<img src="" alt="">
```

  
Это горизонтальное меню и логотип (который почему-то справа).  
  
Между ссылками и логотипом одинаковое расстояние. Но если есть расстояние между последней лишкой и новым блоком, то этот отступ делается не за счет лишки. А список отступает.  
  
![](https://habrastorage.org/r/w1560/webt/9t/t6/qp/9tt6qpbwzwqeg9y28glafa3tqpi.jpeg)  
  
![](https://habrastorage.org/r/w1560/webt/6z/d_/70/6zd_709xdx1l4eg4czfodv-mljk.jpeg)  
  
Для последней `li` отступ обнуляется. И отступ делается **между соседними элементами** `ul` и `img`. О чем говорилось во втором принципе.  
  
Возьмем другой пример:  
  

```
<aside class="blog-preview">
  <div class="blog-preview__item">
    <article class="preview-item">
      <h3 class="preview-item__title">...</h3>
      
      <p class="preview-item__desc">...</p>
      
      <aside class="preview-item__meta">
        <time>10.10.10</time>
      </aside>
    </article>
  </div>

  <div class="blog-preview__item">...</div>
  
  <div class="blog-preview__item">...</div>
</aside>
```

  
![](https://habrastorage.org/r/w1560/webt/u9/lh/fk/u9lhfkk8utru78udjvs0_sccde0.png)  
  
Интересует нас отступ между новостями, которые задается `.blog-preview__item { margin-bottom: 20px; }`. Последний margin обнуляется, а нижний отступ делается за счет padding `blog-preview`. О чем говорилось во втором принципе.  
  
Чаще чем другие псевдоклассы, надо использовать :last-child.  
  

```
.item:not(:last-child) { 
  margin-bottom: 20px; 
}

// или //

.item {
  // другие стили //
  margin-bottom: 20px; 

  &:last-child {
    margin-bottom: 0;
  }
}

// или margin-top, основная идея здесь, не в направлении маргина, а в отсутствии лишнего //

.item + .item {
  margin-top: 20px;
}

// или //

.item {
  // другие стили //

  & + & {
    margin-top: 20px;
  }
}
```

  
  

### Исключения

  

- В первую очередь это **добавление текстового контента через админку**. Здесь отлично справляется подход к отступам заданный браузером. Но этот подход нельзя считать подходящим в обычной верстке как и несколько `<br>` в коде подряд.  
    ![](https://habrastorage.org/r/w1560/webt/y1/x1/zg/y1x1zg7nauzwpr7qliny6zw_i3w.png)  
    
- **«Динамические элементы». Когда элемент появляется после какого-то блока, то он появится со своим отступом.**  
    
- Иногда вертикальные падинги лучше задавать дочерним блокам, нежели всей секции. Если в перспективе, на других страницах в том же месте, это относится ко второму принципу, _задавать отступ для последнего возможного_, вот иногда секция последний, но не возможный.
- Отрицательные маргины, auto, padding для контейнера.  
    

  

---

  
Конечно есть частные случаи, нетривиальные задачи, и нюансы, при которых невозможно придерживаться этих принципов, но в остальном стоит стремиться к идеальным отступам, чтоб сделать верстку максимально чистой.  
  
**P. S.** Советую ознакомиться с публикацией [Кастомный подход для нормализации и сброса стилей (custom-reset.css)](https://habr.com/post/420539/). И советую использовать css линтеры. И кому интересно, может решить [css задачку](https://codepen.io/yurch-html/pen/ZLmyMa).

запись